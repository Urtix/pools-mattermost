# Mattermost pools bot

## Настройка серверного окружения

### Запуск контейнера mattermost

1 - Убедитесь, что на вашей системе установлены [Docker](https://www.docker.com/get-started) и [Docker-Compose](https://docs.docker.com/compose/install/).

2 - Выполните команду:`sudo docker-compose up -d`. Клиент Mattermost будет собран, а порт `8065` станет доступен на локальном хосте вашей системы.

3 - Для проверки статуса запустите скрипт: `sudo ./status.sh`.

4 - Войдите в ваш экземпляр Mattermost и создайте аккаунт бота, следуя [инструкции](https://developers.mattermost.com/integrate/reference/bot-accounts/).

### Запуск бота

1 - Запустите контейнер mattermost

2 - Скопируйте файл example.env в .env и заполните: Токен бота (полученный на предыдущем шаге), название команды и другие параметры.

3 - Запустите.

```
make run
```

## Управление ботом

0 - /poll [время] "Вопрос" "Вариант 1" "Вариант 2" ... - Создать опрос.

1 - /vote [ID_опроса] [номер] - Проголосовать за вариант.

2 - /result [ID_опроса] - Показать текущие результаты.

3 - /close [ID_опроса] - Закрыть опрос досрочно (только автор).

4 - /delete [ID_опроса] - Удалить опрос (только автор).

5 - /phelp - Помощь по командам бота.

## Выключение бота

В окне терминала нажмите `CTRL+C`, чтобы остановить бота.

## Выключение сервера

Выполните команду:`sudo docker-compose down`.
